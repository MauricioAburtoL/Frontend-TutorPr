<div class="profile-container" *ngIf="stats">
  
  <header class="header-nav">
    <a routerLink="/home" class="back-link">â† Volver al Inicio</a>
  </header>

  <div class="profile-header">
    <div class="user-main">
      <div class="avatar-circle">ğŸ‘¤</div>
      <div class="user-info">
        <h1>{{ stats.username }}</h1>
        <p class="subtitle">{{ stats.level }}</p>
      </div>
    </div>
    
    <div class="mastery-badge">
      <div class="score-circle">
        <svg viewBox="0 0 36 36" class="circular-chart">
          <path class="circle-bg" d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831" />
          <path class="circle" [attr.stroke-dasharray]="stats.masteryScore + ', 100'" d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831" />
        </svg>
        <span class="score-text">{{ stats.masteryScore }}%</span>
      </div>
      <span class="label">Nivel de Dominio</span>
    </div>
  </div>

  <div class="diagnostic-grid">
    
    <div class="diagnostic-card success">
      <div class="card-title">
        <span class="icon">ğŸŒŸ</span> 
        <h3>Tus Fortalezas</h3>
      </div>
      <p class="description">Has demostrado dominio en estos temas:</p>
      <ul>
        <li *ngFor="let area of stats.strongAreas">âœ“ {{ area }}</li>
      </ul>
    </div>

    <div class="diagnostic-card warning">
      <div class="card-title">
        <span class="icon">ğŸ”§</span> 
        <h3>Ãreas a Reforzar</h3>
      </div>
      <p class="description">Detectamos dificultades en:</p>
      <ul>
        <li *ngFor="let area of stats.weakAreas">! {{ area }}</li>
      </ul>
      <small>El sistema recomienda repasar estos conceptos.</small>
    </div>

  </div>

  <div class="recommendations-section">
    <h2>ğŸ¯ Tu Plan de Estudio Sugerido</h2>
    <p class="section-desc">Basado en tus errores recientes, te recomendamos:</p>

    <div class="rec-list">
      <div class="rec-card" *ngFor="let rec of stats.recommendations">
        <div class="rec-icon">
          <span *ngIf="rec.type === 'practice'">ğŸ’»</span>
          <span *ngIf="rec.type === 'review'">ğŸ“–</span>
        </div>
        <div class="rec-content">
          <h4>{{ rec.title }}</h4>
          <span class="rec-type">{{ rec.type === 'practice' ? 'Ejercicio PrÃ¡ctico' : 'Lectura Recomendada' }}</span>
        </div>
        <button class="btn-go" [routerLink]="rec.link">Ir â†’</button>
      </div>
    </div>
  </div>

  <div class="skills-section">
    <h3>Desglose TÃ©cnico</h3>
    <div class="skills-list">
      <div class="skill-item" *ngFor="let skill of stats.skills">
        <div class="skill-info">
          <span>{{ skill.name }}</span>
          <span>{{ skill.progress }}%</span>
        </div>
        <div class="progress-bg">
          <div class="progress-fill" [style.width.%]="skill.progress"></div>
        </div>
      </div>
    </div>
  </div>

</div>